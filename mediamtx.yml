####################
# API
####################
api: yes
apiAddress: :8557

####################
# Authentication
####################
authMethod: internal
authInternalUsers:
  - user: admin
    pass: admin
    permissions:
      - action: api
      - action: publish

  - user: any
    permissions:
      - action: read

####################
# Logging
####################
logLevel: debug
logDestinations: [stdout]

####################
# Protocols
####################
rtsp: yes
rtspAddress: :8554
readTimeout: 20s
writeTimeout: 20s

rtmp: yes
rtmpAddress: :1935

hls: yes
hlsAddress: :8888
hlsAllowOrigins: ["*"]
hlsVariant: lowLatency
hlsSegmentDuration: 2s
hlsPartDuration: 400ms
hlsSegmentCount: 5
hlsDirectory: /dev/shm/hls

webrtc: yes
webrtcAddress: :8889
webrtcAdditionalHosts:
  - webrtc.campuswatch.in
webrtcICEServers2:
  - url: stun:stun.l.google.com:19302
  - url: turn:webrtc.campuswatch.in:3478
    username: mediamtx
    password: mediamtxpassword

pathDefaults:
  sourceProtocol: tcp
  sourceOnDemand: yes
  sourceOnDemandStartTimeout: 30s
  sourceOnDemandCloseAfter: 30s
